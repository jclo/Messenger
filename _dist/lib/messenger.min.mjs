/*! ****************************************************************************
 * Messenger v1.0.0
 *
 * A tiny Javascript library to handle messages that carry a payload.
 * (you can download it from npm or github repositories)
 * Copyright (c) 2020 Mobilabs <contact@mobilabs.fr> (http://www.mobilabs.fr).
 * Released under the MIT license. You may obtain a copy of the License
 * at: http://www.opensource.org/licenses/mit-license.php).
 * Built from ES6lib v1.0.1.
 * ************************************************************************** */
const $__ES6GLOB={};!function(e,t){"use strict";"function"==typeof define&&define.amd?define([""],t):"object"==typeof exports?module.exports=t(e):e.Messenger=t(e)}($__ES6GLOB,e=>{"use strict";let t,n;return function(){const s=e.Messenger;let r;t=function(){const e=Object.create(r);return e._library={name:"Messenger",version:"1.0.0"},e._db={},e},t.NAME="Messenger",t.VERSION="1.0.0",t._setTestMode=function(){return[]},t.noConflict=function(){return e.Messenger=s,this},r={whoami(){return this._library},subscribe(e,t){return n.subscribe(this._db,e,t),this},subscribeOnce(e,t){return n.subscribeOnce(this._db,e,t),this},unsubscribe(e,t){return n.unsubscribe(this._db,e,t),this},publish(e,t){return n.publish(this._db,e,t),this}}}(),function(){function e(e,t){"string"==typeof t&&function(e,t){Object.prototype.hasOwnProperty.call(e,t)||(e[t]={listeners:[],listenersOnce:[]})}(e,t)}n={subscribe(t,n,s){!function(t,n,s){e(t,n),"string"==typeof n&&"function"==typeof s&&Object.prototype.hasOwnProperty.call(t,n)&&t[n].listeners.push(s)}(t,n,s)},subscribeOnce(t,n,s){!function(t,n,s){e(t,n),"string"==typeof n&&"function"==typeof s&&Object.prototype.hasOwnProperty.call(t,n)&&t[n].listenersOnce.push(s)}(t,n,s)},unsubscribe(e,t,n){!function(e,t,n){let s;"string"==typeof t&&"function"==typeof n&&Object.prototype.hasOwnProperty.call(e,t)&&(s=e[t].listeners.indexOf(n),s>=0&&e[t].listeners.splice(s,1),s=e[t].listenersOnce.indexOf(n),s>=0&&e[t].listenersOnce.splice(s,1))}(e,t,n)},publish(e,t,n){!function(e,t,n){if("string"==typeof t&&Object.prototype.hasOwnProperty.call(e,t)){for(let s=0;s<e[t].listeners.length;s++)e[t].listeners[s](n);for(let s=0;s<e[t].listenersOnce.length;s++)e[t].listenersOnce[s](n);e[t].listenersOnce.splice(0,e[t].listenersOnce.length)}}(e,t,n)}}}(),t});export default $__ES6GLOB.Messenger;